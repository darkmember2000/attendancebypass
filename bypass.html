<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Attendance Bypass</title>
  <style>
    /* All your existing styles are here (unchanged) */
    /* ...[SHORTENED for brevity - identical to your code above]... */

    /* Keep everything same as your current CSS */
    /* You already have animations, particles, styling, etc. */
  </style>
</head>
<body>
  <!-- Animated background particles -->
  <div class="particles" id="particles"></div>

  <!-- Glowing orbs -->
  <div class="glow-orb orb1"></div>
  <div class="glow-orb orb2"></div>
  <div class="glow-orb orb3"></div>

  <header class="header">
    <h1 class="page-title">Attendance Bypass</h1>
    <div class="time-display" id="currentTime">Loading...</div>
    <div class="timezone">Sri Lanka Standard Time (SLST)</div>
  </header>

  <main class="main-content">
    <div class="bypass-container">
      <div class="input-group">
        <input
          type="url"
          class="link-input"
          placeholder="Enter attendance link here..."
          id="linkInput"
        >
      </div>
      <button class="bypass-btn" onclick="handleBypass()">
        BYPASS
      </button>
    </div>
  </main>

  <!-- Script section with auto-paste functionality -->
  <script>
    // Create floating particles
    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      for (let i = 0; i < 20; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 100 + '%';
        particle.style.width = Math.random() * 6 + 2 + 'px';
        particle.style.height = particle.style.width;
        particle.style.animationDelay = Math.random() * 6 + 's';
        particle.style.animationDuration = (Math.random() * 4 + 4) + 's';
        particlesContainer.appendChild(particle);
      }
    }

    // Update Sri Lanka time
    function updateTime() {
      const now = new Date();
      const sriLankaTime = new Date(now.toLocaleString("en-US", { timeZone: "Asia/Colombo" }));

      const options = {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: true
      };

      const timeString = sriLankaTime.toLocaleDateString('en-US', options);
      document.getElementById('currentTime').textContent = timeString;
    }

    // Handle bypass button click
    function handleBypass() {
      const linkInput = document.getElementById('linkInput');
      const link = linkInput.value.trim();

      if (!link) {
        alert('Please enter a link first!');
        linkInput.focus();
        return;
      }

      const btn = document.querySelector('.bypass-btn');
      const originalText = btn.textContent;
      btn.textContent = 'PROCESSING...';
      btn.style.background = 'linear-gradient(45deg, #4CAF50, #45a049)';

      setTimeout(() => {
        btn.textContent = 'SUCCESS!';
        setTimeout(() => {
          btn.textContent = originalText;
          btn.style.background = 'linear-gradient(45deg, #001a33, #003366)';
          linkInput.value = '';
        }, 1500);
      }, 2000);
    }

    // Auto-paste clipboard content
    async function autoPasteClipboard() {
      const input = document.getElementById('linkInput');
      try {
        const permission = await navigator.permissions.query({ name: 'clipboard-read' });
        if (permission.state === 'granted' || permission.state === 'prompt') {
          const text = await navigator.clipboard.readText();
          if (text && text.startsWith('http')) {
            input.value = text;
          }
        }
      } catch (err) {
        console.warn('Clipboard access denied or not supported:', err);
      }
    }

    // Initialize features
    createParticles();
    updateTime();
    setInterval(updateTime, 1000);

    // Enter key support
    document.getElementById('linkInput').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        handleBypass();
      }
    });

    // Try clipboard paste on page visible
    document.addEventListener("visibilitychange", () => {
      if (document.visibilityState === "visible") {
        autoPasteClipboard();
      }
    });

    // Also try once when page loads
    window.addEventListener('load', autoPasteClipboard);
  </script>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-text">Developed By DARK MEMBER</div>
  </footer>
</body>
</html>
